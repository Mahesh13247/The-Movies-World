import{r as o,j as e,F as Kt,l as Gt,m as Ze,n as Yt,o as Ke,p as Xt,B as b,q as Zt,t as es,v as et,w as ts,x as ss,y as as,z as ns,A as Ee,C as Me,D as ls,E as tt,G as st,H as rs,I as is,u as at,J as ce,P as os}from"./index-BYxBbHVR.js";const de=[{category:"movies",name:"Movies & TV Shows",links:["https://fullmovieshow.com","https://isputlockers.com","https://teh-movie.com","https://solarmovieru.com","https://movie4kto.life","https://123moviesgo.bar","https://freeforyou.site/watchserieshd","https://tih-movie.com","https://www.streamlord.com/index.html","https://www.couchtuner.show","https://en.bmovies-official.live/movies","https://en.watchfree-official.live/movies","https://prmovies.repair","https://pikahd.com","https://moviesbaba.cam","https://moviesmod.surf","https://uhdmovies.wales","https://watchomovies.support","https://www.5movierulz.sarl/"]},{category:"anime",name:"Anime & Cartoons",links:["https://hentaigasm.tv","https://hentaigasm.com","https://animeflix.ltd","https://animehub.ac/animehub.to","https://hanimehub.site","https://hanime.tv","https://www.cartoonporn.com","https://hentaihaven.xxx"]},{category:"jav",name:"JAV Sites",links:["https://www.javmov.com","https://www.javhd.com","https://www.javdoe.com","https://www.javmost.com","https://www.javbus.com","https://www.javfinder.com","https://www.jav321.com","https://www.javlibrary.com","https://www.javdb.com","https://www.javzoo.com","https://www.javplay.com","https://www.javstream.com","https://www.javmoo.com","https://www.javfap.com","https://www.javxxx.com","https://www.javsex.com","https://www.javtube.com","https://www4.javdock.com","https://javheo.com","https://javeng.com","https://javgg.net","https://supjav.com","https://javhd.pro","https://javhd.tube","https://javhd.me","https://javhd.to","https://javhd.cc","https://javhd.tv","https://javhd.xyz","https://javhd.net","https://javhd.org","https://javhd.com","https://javhd.io","https://javhd.co","https://javhd.biz","https://javhd.info","https://javhd.mobi","https://javhd.live","https://javhd.stream","https://javhd.download","https://javhd.watch","https://javhd.plus","https://javhd.fun","https://javhd.club","https://javhd.team","https://javhd.group","https://javhd.zone","https://javhd.space","https://javhd.world","https://javhd.global","https://javhd.international"]},{category:"other",name:"Other Sources",links:["https://1337x.hashhackers.com","https://movie4nx.site","https://www.manyvids.com","https://kemono.su","https://clip18x.com","https://www.eporner.com","https://www.miruro.tv","https://katmovie18.mov","https://katmoviehd.rodeo","https://hentaigasm.com","https://mat6tube.com/recent","https://www.qorno.com","https://avple.tv","https://hotleaks.tv","https://en.pornohd.blue","https://missav123.com/dm22/en","https://chiggywiggy.com","https://nxprime.in/home.html","https://sextb.net/","https://123av.com/en/dm5","https://ppp.porn/pp1","https://www.xvideos.com","https://www.xnxx.com","https://www.pornhub.com","https://www.xhamster.com","https://www.redtube.com","https://www.youporn.com","https://www.tube8.com","https://www.youjizz.com","https://www.beeg.com","https://www.thumbzilla.com","https://www.spankbang.com","https://www.empflix.com","https://www.tnaflix.com","https://www.porntube.com","https://www.porntrex.com","https://www.4tube.com","https://www.drtuber.com","https://www.hellporno.com","https://www.hellmoms.com"]},{category:"forums",name:"Adult Forums & Communities",links:["https://www.reddit.com"]},{category:"games",name:"Adult Games",links:["https://www.nutaku.net","https://www.hentaiheroes.com","https://www.hentaihaven.xxx"]}],cs=()=>{const[a,f]=o.useState(""),[v,u]=o.useState("all"),[g,T]=o.useState("name"),[x,_]=o.useState("grid"),[R,E]=o.useState(()=>JSON.parse(localStorage.getItem("adultSearchHistory")||"[]")),[I,y]=o.useState(!1),[F,k]=o.useState(!1),[A,c]=o.useState({status:"all",rating:"all",type:"all",language:"all"}),[d,p]=o.useState([]),[j,m]=o.useState([]);o.useEffect(()=>{const r=JSON.parse(localStorage.getItem("adultRecentSearches")||"[]");m(r)},[]);const C=r=>{if(!r.trim())return;const h=[r,...R.filter(S=>S!==r)].slice(0,10);E(h),localStorage.setItem("adultSearchHistory",JSON.stringify(h))},N=r=>{if(!r.trim())return;const h=[r,...j.filter(S=>S!==r)].slice(0,5);m(h),localStorage.setItem("adultRecentSearches",JSON.stringify(h))};o.useEffect(()=>{if(a.length<2){p([]);return}const r=de.flatMap(h=>h.links.map(S=>({domain:S.replace(/^https?:\/\/(www\.)?/,"").split("/")[0],category:h.name,url:S})).filter(S=>S.domain.toLowerCase().includes(a.toLowerCase())||S.category.toLowerCase().includes(a.toLowerCase()))).slice(0,5);p(r)},[a,de]);const B=o.useMemo(()=>de.map(r=>({...r,links:r.links.filter(h=>{const S=h.toLowerCase().includes(a.toLowerCase()),$=v==="all"||r.category===v;h.replace(/^https?:\/\/(www\.)?/,"").split("/")[0];const ae=A.status==="all"||A.status==="active"&&!h.includes("inactive")||A.status==="new"&&h.includes("new"),he=A.type==="all"||A.type==="streaming"&&(h.includes("stream")||h.includes("watch"))||A.type==="download"&&(h.includes("download")||h.includes("torrent"))||A.type==="forum"&&(h.includes("forum")||h.includes("community"));return S&&$&&ae&&he})})).filter(r=>r.links.length>0),[a,v,A,de]),Y=o.useMemo(()=>B.map(r=>({...r,links:[...r.links].sort((h,S)=>{const $=h.replace(/^https?:\/\/(www\.)?/,"").split("/")[0],ae=S.replace(/^https?:\/\/(www\.)?/,"").split("/")[0];return g==="name"?$.localeCompare(ae):0})})),[B,g]),J=r=>{if(!r){f("");return}f(r),C(r),N(r)},X=()=>{E([]),localStorage.removeItem("adultSearchHistory")};return e.jsxs("div",{className:"external-links-section",children:[e.jsxs("div",{className:"external-links-header",children:[e.jsx("h3",{style:{color:"#ff3333",marginBottom:20},children:"External Sources"}),e.jsxs("div",{className:"search-container",children:[e.jsxs("div",{className:"search-input-wrapper",children:[e.jsx("input",{type:"text",placeholder:"Search sources...",value:a,onChange:r=>f(r.target.value),className:"external-links-search",onFocus:()=>{y(!0),k(!0)},onBlur:()=>setTimeout(()=>k(!1),150),onKeyDown:r=>{r.key==="Enter"&&(r.preventDefault(),a.trim()&&(J(a.trim()),k(!1)))}}),a&&e.jsx("button",{type:"button",className:"clear-search",onMouseDown:r=>r.preventDefault(),onClick:()=>{f(""),k(!0)},children:"‚úï"})]}),F&&d.length>0&&e.jsx("div",{className:"search-suggestions",children:d.map((r,h)=>e.jsxs("div",{className:"suggestion-item",onMouseDown:S=>S.preventDefault(),onClick:()=>{J(r.domain),k(!1)},children:[e.jsx("span",{className:"suggestion-domain",children:r.domain}),e.jsx("span",{className:"suggestion-category",children:r.category})]},h))}),F&&!a&&j.length>0&&e.jsxs("div",{className:"recent-searches",children:[e.jsxs("div",{className:"recent-searches-header",children:[e.jsx("span",{children:"Recent Searches"}),e.jsx("button",{onClick:X,children:"Clear History"})]}),j.map((r,h)=>e.jsxs("div",{className:"recent-search-item",onMouseDown:S=>S.preventDefault(),onClick:()=>{J(r),k(!1)},children:[e.jsx("span",{className:"search-icon",children:"üîç"}),r]},h))]})]}),I&&e.jsxs("div",{className:"advanced-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("select",{value:A.status,onChange:r=>c(h=>({...h,status:r.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"new",children:"New"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type:"}),e.jsxs("select",{value:A.type,onChange:r=>c(h=>({...h,type:r.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"streaming",children:"Streaming"}),e.jsx("option",{value:"download",children:"Download"}),e.jsx("option",{value:"forum",children:"Forum"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Rating:"}),e.jsxs("select",{value:A.rating,onChange:r=>c(h=>({...h,rating:r.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]})]}),e.jsxs("div",{className:"external-links-controls",children:[e.jsxs("select",{value:v,onChange:r=>u(r.target.value),className:"external-links-category",children:[e.jsx("option",{value:"all",children:"All Categories"}),de.map(r=>e.jsx("option",{value:r.category,children:r.name},r.category))]}),e.jsxs("select",{value:g,onChange:r=>T(r.target.value),className:"external-links-sort",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"recent",children:"Sort by Recent"})]}),e.jsxs("div",{className:"view-mode-buttons",children:[e.jsx("button",{className:x==="grid"?"active":"",onClick:()=>_("grid"),children:"Grid View"}),e.jsx("button",{className:x==="list"?"active":"",onClick:()=>_("list"),children:"List View"})]})]})]}),e.jsx("div",{className:"search-results-info",children:a&&e.jsxs("div",{className:"results-count",children:["Found ",Y.reduce((r,h)=>r+h.links.length,0)," ",'results for "',a,'"']})}),Y.map(r=>e.jsxs("div",{className:"external-links-category-section",children:[e.jsx("h4",{className:"category-title",children:r.name}),e.jsx("div",{className:`external-links-${x}`,children:r.links.map((h,S)=>e.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"external-link-card",children:e.jsxs("div",{className:"link-content",children:[e.jsx("span",{className:"link-domain",children:h.replace(/^https?:\/\/(www\.)?/,"").split("/")[0]}),e.jsx("span",{className:"link-category",children:r.name})]})},S))})]},r.category)),B.length===0&&e.jsxs("div",{className:"no-results",children:[e.jsx("div",{className:"no-results-icon",children:"üîç"}),e.jsxs("div",{className:"no-results-text",children:["No sources found matching your search criteria.",a&&e.jsxs("div",{className:"no-results-suggestions",children:["Try:",e.jsxs("ul",{children:[e.jsx("li",{children:"Using different keywords"}),e.jsx("li",{children:"Checking your spelling"}),e.jsx("li",{children:"Removing filters"})]})]})]})]})]})},ds=({searchQuery:a,onSearchChange:f,loading:v,recentSearches:u=[],onSuggestionClick:g,showSuggestions:T=!1,onFocus:x,onBlur:_,onKeyDown:R,placeholder:E="Search adult videos...",inputRef:I})=>{const[y,F]=o.useState(!1),[k,A]=o.useState(!1),[c,d]=o.useState(-1),[p,j]=o.useState(!1),m=o.useRef(null),C=I||m,N=o.useRef(null);o.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const r=window.SpeechRecognition||window.webkitSpeechRecognition;N.current=new r,N.current.continuous=!1,N.current.interimResults=!1,N.current.lang="en-US",N.current.onresult=h=>{const S=h.results[0][0].transcript;f({target:{value:S}}),F(!1)},N.current.onerror=h=>{console.error("Speech recognition error:",h.error),F(!1)},N.current.onend=()=>{F(!1)}}},[f]),o.useEffect(()=>{A(a.length>0)},[a]);const B=()=>{if(!N.current){b.error("Speech recognition is not supported in your browser");return}y?(N.current.stop(),F(!1)):(N.current.start(),F(!0))},Y=()=>{var r;f({target:{value:""}}),(r=C.current)==null||r.focus()},J=(r,h)=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),g==null||g(h))},X=r=>{T&&u.length>0&&(r.key==="ArrowDown"?(r.preventDefault(),d(h=>h<u.length-1?h+1:0)):r.key==="ArrowUp"?(r.preventDefault(),d(h=>h>0?h-1:u.length-1)):r.key==="Enter"&&c>=0?(r.preventDefault(),g==null||g(u[c]),d(-1)):r.key==="Escape"&&d(-1)),R==null||R(r)};return e.jsxs("div",{className:`search-input-container${p?" focused":""}`,children:[e.jsxs("div",{className:`search-bar${p?" focused":""}`,children:[e.jsx("input",{ref:C,type:"text",value:a,onChange:f,onFocus:r=>{j(!0),x==null||x(r)},onBlur:r=>{j(!1),_==null||_(r)},onKeyDown:X,placeholder:E,className:`search-input ${v?"loading":""} ${y?"listening":""}`,"aria-label":"Search adult videos","aria-busy":v,autoComplete:"off",spellCheck:"false"}),v&&e.jsx("div",{className:"search-loading",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("button",{type:"button",className:`voice-search-btn ${y?"listening":""}`,onClick:B,"aria-label":y?"Stop voice search":"Start voice search",title:y?"Stop voice search":"Start voice search",children:y?e.jsx(Kt,{}):e.jsx(Gt,{})}),k&&e.jsx("button",{type:"button",className:"clear-search-btn",onClick:Y,"aria-label":"Clear search",title:"Clear search",children:e.jsx(Ze,{})}),e.jsx(Yt,{className:"search-icon"})]}),T&&u.length>0&&e.jsxs("div",{className:"search-suggestions fade-slide",children:[e.jsxs("div",{className:"suggestions-header",children:[e.jsx(Ke,{}),e.jsx("span",{children:"Recent searches"})]}),u.map((r,h)=>e.jsxs("div",{className:`suggestion-item ${h===c?"active":""}`,onMouseDown:()=>g==null?void 0:g(r),onKeyDown:S=>J(S,r),tabIndex:0,role:"button","aria-label":`Search for ${r}`,children:[e.jsx(Ke,{className:"suggestion-icon"}),e.jsx("span",{className:"suggestion-text",children:r}),h===c&&e.jsx(Xt,{className:"suggestion-keyboard"})]},r))]}),y&&e.jsxs("div",{className:"voice-status",children:[e.jsxs("div",{className:"voice-indicator",children:[e.jsx("div",{className:"voice-wave"}),e.jsx("div",{className:"voice-wave"}),e.jsx("div",{className:"voice-wave"})]}),e.jsx("span",{children:"Listening..."})]})]})};var Fe={exports:{}},De,Ge;function hs(){if(Ge)return De;Ge=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return De=a,De}var Ie,Ye;function us(){if(Ye)return Ie;Ye=1;var a=hs();function f(){}function v(){}return v.resetWarningCache=f,Ie=function(){function u(x,_,R,E,I,y){if(y!==a){var F=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw F.name="Invariant Violation",F}}u.isRequired=u;function g(){return u}var T={array:u,bigint:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:g,element:u,elementType:u,instanceOf:g,node:u,objectOf:g,oneOf:g,oneOfType:g,shape:g,exact:g,checkPropTypes:v,resetWarningCache:f};return T.PropTypes=T,T},Ie}var Xe;function ms(){return Xe||(Xe=1,Fe.exports=us()()),Fe.exports}var ps=ms();const se=Zt(ps),V=({searchResults:a=[],onVideoSelect:f,favorites:v=[],onToggleFavorite:u,watchlist:g=[],onToggleWatchlist:T})=>{const[x,_]=o.useState(1),[R,E]=o.useState(24);o.useEffect(()=>{_(1)},[a,R]);const I=Math.ceil(a.length/R),y=(x-1)*R,F=a.slice(y,y+R),k=c=>{c>=1&&c<=I&&_(c)},A=()=>{if(I<=1)return null;const c=[],d=5;let p=Math.max(1,x-Math.floor(d/2)),j=Math.min(I,p+d-1);j-p+1<d&&(p=Math.max(1,j-d+1)),p>1&&(c.push(1),p>2&&c.push("..."));for(let m=p;m<=j;m++)c.push(m);return j<I&&(j<I-1&&c.push("..."),c.push(I)),e.jsxs("div",{className:"pagination-section",children:[e.jsx("button",{className:"pagination-btn nav-btn",onClick:()=>k(1),disabled:x===1,title:"First Page",children:e.jsx(ls,{})}),e.jsx("button",{className:"pagination-btn nav-btn",onClick:()=>k(x-1),disabled:x===1,title:"Previous Page",children:e.jsx(tt,{})}),c.map((m,C)=>m==="..."?e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${C}`):e.jsx("button",{className:`pagination-btn ${x===m?"active":""}`,onClick:()=>k(m),children:m},m)),e.jsx("button",{className:"pagination-btn nav-btn",onClick:()=>k(x+1),disabled:x===I,title:"Next Page",children:e.jsx(st,{})}),e.jsx("button",{className:"pagination-btn nav-btn",onClick:()=>k(I),disabled:x===I,title:"Last Page",children:e.jsx(rs,{})})]})};return e.jsxs("div",{className:"search-results-container",children:[e.jsx("div",{className:"search-results",children:F.map(c=>e.jsxs("div",{className:"result-card",onClick:()=>f(c),children:[e.jsxs("div",{className:"video-preview-container",children:[e.jsx("img",{src:c.thumbnail,alt:c.title,className:"result-thumbnail",loading:"lazy"}),e.jsx("div",{className:"play-overlay",children:e.jsx(es,{})}),e.jsxs("div",{className:"video-duration",children:[e.jsx(et,{})," ",c.duration||"00:00"]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"action-btn",onClick:d=>{d.stopPropagation(),T(c),b.info(g.includes(c.id)?"Removed from watchlist":"Added to watchlist")},title:"Add to Watchlist",children:g.includes(c.id)?e.jsx(ts,{}):e.jsx(ss,{})}),e.jsx("button",{className:"action-btn",onClick:d=>{d.stopPropagation(),u(c),b.info(v.includes(c.id)?"Removed from favorites":"Added to favorites")},title:"Add to Favorites",children:v.includes(c.id)?e.jsx(as,{className:"favorited"}):e.jsx(ns,{})})]})]}),e.jsxs("div",{className:"result-info",children:[e.jsx("h3",{className:"result-title",children:c.title}),e.jsxs("div",{className:"result-meta",children:[e.jsxs("span",{className:"meta-item",children:[e.jsx(Ee,{})," ",c.views||0]}),e.jsxs("span",{className:"meta-item",children:[e.jsx(Me,{})," ",c.rating||0,"%"]})]})]})]},c.id))}),a.length>0&&e.jsxs("div",{className:"pagination-controls",children:[e.jsxs("div",{className:"pagination-info",children:["Showing ",y+1," -"," ",Math.min(y+R,a.length)," of"," ",a.length," results"]}),A(),e.jsx("div",{className:"items-per-page-selector",children:e.jsxs("select",{value:R,onChange:c=>E(Number(c.target.value)),className:"items-per-page-select",children:[e.jsx("option",{value:12,children:"12 per page"}),e.jsx("option",{value:24,children:"24 per page"}),e.jsx("option",{value:48,children:"48 per page"}),e.jsx("option",{value:96,children:"96 per page"})]})})]})]})};V.propTypes={searchResults:se.array.isRequired,onVideoSelect:se.func.isRequired,favorites:se.array,onToggleFavorite:se.func,watchlist:se.array,onToggleWatchlist:se.func};const gs=({video:a,sources:f,onClose:v,onPrev:u,onNext:g,showPrev:T,showNext:x,allVideos:_=[],onVideoSelect:R})=>{console.debug("VideoModal sources available:",f);const E=o.useRef(null),y=(d=>{if(!d||typeof d!="string")return 0;const p=d.split(":");if(p.length!==2)return 0;const j=parseInt(p[0],10),m=parseInt(p[1],10);return isNaN(j)||isNaN(m)?0:j*60+m})(a.duration),F=d=>d?d>=1e9?`${(d/1e9).toFixed(1)}B`:d>=1e6?`${(d/1e6).toFixed(1)}M`:d>=1e3?`${(d/1e3).toFixed(1)}K`:d.toString():"0",k=d=>{if(!d)return"Unknown date";const p=new Date(d),m=Math.abs(new Date-p),C=Math.ceil(m/(1e3*60*60*24));return C<1?"Today":C===1?"Yesterday":C<7?`${C} days ago`:C<30?`${Math.floor(C/7)} weeks ago`:p.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},A=d=>{const p=Math.floor(d/60),j=Math.floor(d%60);return`${p}:${j.toString().padStart(2,"0")}`},c=o.useMemo(()=>{if(!a||!_.length)return[];let d=_.filter(p=>p.id!==a.id&&(a.category&&p.category===a.category||a.tags&&p.tags&&p.tags.some(j=>a.tags.includes(j))));if(d.length<100){const p=_.filter(j=>j.id!==a.id&&!d.includes(j));for(;d.length<100&&p.length;){const j=Math.floor(Math.random()*p.length);d.push(p.splice(j,1)[0])}}return d.slice(0,100)},[a,_]);return e.jsx("div",{className:"youtube-modal-overlay",children:e.jsxs("div",{className:"youtube-modal-container",onClick:d=>d.stopPropagation(),children:[e.jsx("div",{className:"youtube-modal-header",children:e.jsx("button",{className:"youtube-close-btn",onClick:v,"aria-label":"Close",children:e.jsx(Ze,{})})}),e.jsxs("div",{className:"youtube-modal-content",children:[e.jsx("div",{className:"youtube-video-container",children:e.jsx("iframe",{ref:E,src:a.embedUrl,title:a.title,allowFullScreen:!0,className:"youtube-video-player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})}),e.jsxs("div",{className:"youtube-video-info",children:[e.jsx("h1",{className:"youtube-video-title",children:a.title}),e.jsx("div",{className:"youtube-video-stats",children:e.jsxs("div",{className:"youtube-stats-left",children:[e.jsxs("span",{className:"youtube-views",children:[e.jsx(Ee,{})," ",F(a.views)]}),e.jsxs("span",{className:"youtube-rating",children:[e.jsx(Me,{})," ",a.rating||0,"%"]}),e.jsxs("span",{className:"youtube-duration",children:[e.jsx(et,{})," ",A(y)]}),a.uploadDate&&e.jsxs("span",{className:"youtube-date",children:[e.jsx(is,{})," ",k(a.uploadDate)]})]})})]}),c.length>0&&e.jsxs("div",{className:"related-videos-section",children:[e.jsx("h3",{style:{margin:"18px 0 10px 18px",color:"#fff",fontWeight:600},children:"Related Videos"}),e.jsx("div",{className:"related-videos-grid",children:c.map(d=>e.jsxs("div",{className:"related-video-card",onClick:()=>R&&R(d),children:[e.jsxs("div",{className:"related-video-thumb",children:[e.jsx("img",{src:d.thumbnail,alt:d.title,loading:"lazy"}),e.jsx("span",{className:"related-video-duration",children:d.duration||"00:00"})]}),e.jsxs("div",{className:"related-video-info",children:[e.jsx("div",{className:"related-video-title",title:d.title,children:d.title}),e.jsxs("div",{className:"related-video-meta",children:[e.jsxs("span",{children:[e.jsx(Ee,{})," ",F(d.views)]}),e.jsxs("span",{children:[e.jsx(Me,{})," ",d.rating||0,"%"]})]})]})]},d.id))})]}),e.jsxs("div",{className:"youtube-navigation",children:[T&&e.jsxs("button",{className:"youtube-nav-btn prev",onClick:u,children:[e.jsx(tt,{}),e.jsx("span",{children:"Previous"})]}),x&&e.jsxs("button",{className:"youtube-nav-btn next",onClick:g,children:[e.jsx("span",{children:"Next"}),e.jsx(st,{})]})]})]})]})})},fs=({isOpen:a,onClose:f,onRename:v,currentName:u})=>{const[g,T]=o.useState(u),{t:x}=at();if(o.useEffect(()=>{T(u)},[u,a]),!a)return null;const _=()=>{g.trim()&&g.trim()!==u&&v(g.trim()),f()},R=E=>{E.key==="Enter"&&_()};return e.jsx("div",{className:"playlist-modal-overlay",children:e.jsxs("div",{className:"playlist-modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h4",{children:x("rename_playlist")}),e.jsx("button",{onClick:f,className:"close-modal-btn",children:"√ó"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"playlist-new-name",children:x("playlist_name")}),e.jsx("input",{id:"playlist-new-name",type:"text",value:g,onChange:E=>T(E.target.value),onKeyPress:R,placeholder:x("enter_new_name"),autoFocus:!0})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{onClick:f,className:"cancel-btn",children:x("cancel")}),e.jsx("button",{onClick:_,className:"create-btn",children:x("rename")})]})]})})},ys=()=>{const{t:a}=at(),[f,v]=o.useState(""),[u,g]=o.useState([]),[T,x]=o.useState(!1),[_,R]=o.useState(null),[E,I]=o.useState([]),[y,F]=o.useState(()=>JSON.parse(localStorage.getItem("adultFavorites")||"[]")),[k,A]=o.useState(()=>JSON.parse(localStorage.getItem("adultHistory")||"[]")),[c,d]=o.useState(()=>{const t=localStorage.getItem("adultFilters");return t?JSON.parse(t):{category:"",duration:"",quality:"",rating:""}}),[p,j]=o.useState(()=>localStorage.getItem("adultSortBy")||"relevance"),[m,C]=o.useState("all"),[N,B]=o.useState(()=>JSON.parse(localStorage.getItem("adultWatchlist")||"[]")),[Y,J]=o.useState(1),[X,r]=o.useState(!0),[h,S]=o.useState(!1),[$,ae]=o.useState(()=>JSON.parse(localStorage.getItem("adultRecentSearches")||"[]")),[he,ue]=o.useState(!1),[$e,ye]=o.useState(-1),[nt,lt]=o.useState([]),[L,ve]=o.useState(""),[P,xe]=o.useState(()=>JSON.parse(localStorage.getItem("adultPlaylists")||"[]")),[H,je]=o.useState(null),[rt,ne]=o.useState(!1),[me,Oe]=o.useState(""),[we,it]=o.useState(()=>JSON.parse(localStorage.getItem("adultDownloadQueue")||"[]")),[vs,Le]=o.useState([]),[ot,ct]=o.useState([]),[Ne,le]=o.useState({totalResults:0,searchTime:0}),[xs,js]=o.useState(""),[pe,dt]=o.useState(!1),[U,re]=o.useState({order:"top-weekly",duration:"",quality:"",dateRange:"",language:"",tags:[],excludeTags:[]}),[He,ht]=o.useState(()=>JSON.parse(localStorage.getItem("adultSearchHistory")||"[]")),[ge,ut]=o.useState(new Map),[Z,mt]=o.useState({totalSearches:0,averageResults:0,popularTerms:new Map}),[pt,qe]=o.useState(!1),[Be,ws]=o.useState(null),[Je,Ns]=o.useState(""),Se=void 0,be="https://www.eporner.com/api/v2/video",M={perPage:48,thumbSize:"medium",order:"top-weekly",gay:0,lq:1,format:"json"},ie=["all","trending","favorites","watchlist","playlists","downloads","history"],gt=o.useRef(null),_e=o.useRef(null),ke=o.useRef(null);o.useEffect(()=>{J(1),r(!0)},[f]),o.useEffect(()=>{let t=!1;const s=()=>{t||(window.requestAnimationFrame(()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-300&&X&&!h&&!T&&yt(),t=!1}),t=!0)};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[X,h,T,u]);const Re=t=>{if(!t)return"00:00";const s=Math.floor(t/3600),l=Math.floor(t%3600/60),n=t%60;return s>0?`${s}:${l.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`:`${l.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},q=o.useCallback(ce(async(t,s={})=>{if(!t.trim()){g([]),le({totalResults:0,searchTime:0});return}if(t.trim().length<2){g([]),le({totalResults:0,searchTime:0});return}const l=performance.now();x(!0);const n=`${t}-${JSON.stringify(s)}`;if(ge.has(n)){const i=ge.get(n);g(i.results),le(i.stats),x(!1),We(t,i.results.length);return}try{ke.current&&ke.current.abort();const i=new AbortController;ke.current=i;const w=new URLSearchParams({query:t,per_page:M.perPage,page:1,thumbsize:M.thumbSize,order:s.order||M.order,gay:M.gay,lq:M.lq,format:M.format});s.duration&&w.append("duration",s.duration),s.quality&&w.append("quality",s.quality),s.language&&w.append("language",s.language),s.tags&&s.tags.length>0&&w.append("tags",s.tags.join(","));const O=await fetch(`${be}/search/?${w.toString()}&key=${Se}`,{signal:i.signal});if(!O.ok)throw new Error(`HTTP error! status: ${O.status}`);let G=((await O.json()).videos||[]).map(D=>({id:D.id,title:D.title,thumbnail:D.default_thumb.src,duration:Re(parseInt(D.duration)),durationSeconds:parseInt(D.duration),views:D.views,rating:D.rating,source:"eporner",embedUrl:`https://www.eporner.com/embed/${D.id}`,directUrl:`https://www.eporner.com/video/${D.id}`,uploadDate:D.upload_date,tags:D.tags||[],language:D.language||"Unknown",quality:D.quality||"Unknown",categories:D.categories||[],category:D.categories&&D.categories.length>0?D.categories[0]:""}));const zt=performance.now(),Ae=Math.round(zt-l),Qt={results:G,stats:{totalResults:G.length,searchTime:Ae},timestamp:Date.now()};ut(D=>new Map(D.set(n,Qt))),g(G),le({totalResults:G.length,searchTime:Ae}),ft(t),We(t,G.length),Ve(t),G.length>50&&b.success(a("found_videos_in_ms",{count:G.length,time:Ae}))}catch(i){if(console.error("Error searching videos:",i),i.name==="AbortError")return;i.message.includes("HTTP error! status: 429")?b.error(a("too_many_requests_please_wait_and_try_again")):i.message.includes("HTTP error! status: 403")?b.error(a("access_denied_please_check_your_api_key")):i.message.includes("HTTP error! status: 500")?b.error(a("server_error_please_try_again_later")):i.message.includes("Failed to fetch")?b.error(a("network_error_please_check_your_internet_connection")):b.error(a("error_searching_videos_please_try_again")),le({totalResults:0,searchTime:0})}finally{x(!1)}},300),[ge,M,a]),ft=t=>{ht(s=>{const l=[t,...s.filter(n=>n!==t)].slice(0,20);return localStorage.setItem("adultSearchHistory",JSON.stringify(l)),l})},We=(t,s)=>{mt(l=>{const n=new Map(l.popularTerms),i=n.get(t)||0;n.set(t,i+1);const w=l.totalSearches+1,O=Math.round((l.averageResults*(w-1)+s)/w);return{totalSearches:w,averageResults:O,popularTerms:n}})},yt=async()=>{S(!0);try{const t=Y+1,n=((await(await fetch(`${be}/search/?query=${encodeURIComponent(f)}&per_page=${M.perPage}&page=${t}&thumbsize=${M.thumbSize}&order=${U.order||M.order}&gay=${M.gay}&lq=${M.lq}&format=${M.format}&key=${Se}`)).json()).videos||[]).map(i=>({id:i.id,title:i.title,thumbnail:i.default_thumb.src,duration:Re(parseInt(i.duration)),durationSeconds:parseInt(i.duration),views:i.views,rating:i.rating,source:"eporner",embedUrl:`https://www.eporner.com/embed/${i.id}`,directUrl:`https://www.eporner.com/video/${i.id}`,uploadDate:i.upload_date,tags:i.tags||[],language:i.language||"Unknown",quality:i.quality||"Unknown",categories:i.categories||[],category:i.categories&&i.categories.length>0?i.categories[0]:""}));n.length<M.perPage&&r(!1),g(i=>[...i,...n.filter(w=>!i.some(O=>O.id===w.id))]),J(t)}catch{r(!1)}finally{S(!1)}},Ve=t=>{if(!t.trim())return;const s=[t,...$.filter(l=>l!==t)].slice(0,7);ae(s),localStorage.setItem("adultRecentSearches",JSON.stringify(s))},vt=()=>ue(!0),xt=()=>setTimeout(()=>ue(!1),120),Ue=t=>{v(t),q(t),Ve(t),ue(!1)},jt=t=>{const s=t.target.value;v(s),q(s),ue(!0),ye(-1)},wt=t=>{he&&(t.key==="ArrowDown"?ye(s=>Math.min(s+1,$.length-1)):t.key==="ArrowUp"?ye(s=>Math.max(s-1,0)):t.key==="Enter"&&$e>=0&&Ue($[$e]))},W=t=>{R(t),A(s=>{const l=[t,...s.filter(n=>n.id!==t.id)].slice(0,10);return localStorage.setItem("adultHistory",JSON.stringify(l)),l}),Nt(t.title)},z=t=>{F(s=>{const l=s.filter(Boolean);let n;return t&&l.some(i=>i&&i.id===t.id)?(n=l.filter(i=>i&&i.id!==t.id),b.info(a("removed_from_favorites"))):t?(n=[t,...l],b.success(a("added_to_favorites"))):n=l,localStorage.setItem("adultFavorites",JSON.stringify(n)),n})},Q=t=>{B(s=>{const l=s.filter(Boolean);let n;return t&&l.some(i=>i&&i.id===t.id)?(n=l.filter(i=>i&&i.id!==t.id),b.info(a("removed_from_watchlist"))):t?(n=[t,...l],b.success(a("added_to_watchlist"))):n=l,localStorage.setItem("adultWatchlist",JSON.stringify(n)),n})},Nt=async t=>{try{const s=[{name:"VidSrc",url:`https://vidsrc.to/embed/movie/${t}`,type:"embed"},{name:"FlixHQ",url:`https://flixhq.to/embed/${t}`,type:"embed"}];I(s)}catch(s){console.error("Error fetching additional sources:",s)}};o.useEffect(()=>{localStorage.setItem("adultFilters",JSON.stringify(c))},[c]),o.useEffect(()=>{localStorage.setItem("adultSortBy",p)},[p]);const St=t=>{let s=[...t];if(L&&(s=s.filter(l=>l.title.toLowerCase().includes(L.toLowerCase()))),c.duration){let l=0,n=1/0;c.duration==="short"?(l=0,n=10*60):c.duration==="medium"?(l=10*60,n=30*60):c.duration==="long"&&(l=30*60,n=1/0),s=s.filter(i=>{const w=Number(i.durationSeconds)||0;return w>=l&&w<=n})}if(c.quality&&(s=s.filter(l=>{const n=l.views*.7+l.rating*.3;switch(c.quality){case"high":return n>1e6;case"medium":return n>1e5&&n<=1e6;case"low":return n<=1e5;default:return!0}})),c.rating){const l=parseFloat(c.rating);s=s.filter(n=>n.rating>=l)}return s},bt=(t,s)=>{const l=[...t];switch(s){case"relevance":return l.sort((n,i)=>{const w=n.views*.7+n.rating*.3;return i.views*.7+i.rating*.3-w});case"views":return l.sort((n,i)=>i.views-n.views);case"rating":return l.sort((n,i)=>i.rating-n.rating);case"duration":return l.sort((n,i)=>i.durationSeconds-n.durationSeconds);case"newest":return l.sort((n,i)=>{const w=n.uploadDate?new Date(n.uploadDate).getTime():0;return(i.uploadDate?new Date(i.uploadDate).getTime():0)-w});case"title":return l.sort((n,i)=>n.title.localeCompare(i.title));default:return l}},Ce=o.useMemo(()=>bt(St(u),p),[u,c,L,p]),Pe=["amateur","anal","blowjob","creampie","cumshot","deepthroat","double penetration","facial","gangbang","hardcore","lesbian","massage","masturbation","oral","pov","rough","threesome","toys","vintage","young"],Te=o.useMemo(()=>{const t=new Set;return u.forEach(s=>{s.title.toLowerCase().split(" ").forEach(n=>{Pe.includes(n)&&n.length>3&&t.add(n)})}),Array.from(t).slice(0,10)},[u]),ze=o.useMemo(()=>{const t=Array.from(new Set([...k,...y].flatMap(s=>s.category?[s.category]:[])));return u.filter(s=>t.includes(s.category))},[u,k,y]),_t=()=>{d({category:"",duration:"",quality:"",rating:""}),j("relevance"),b.info(a("filters_cleared"))},kt=()=>(console.log("Rendering advanced filters, showAdvancedFilters:",pe),e.jsxs("div",{className:"advanced-filters-section",children:[e.jsxs("button",{className:"advanced-filters-toggle",onClick:()=>{console.log("Advanced filters toggle clicked"),dt(!pe)},type:"button",children:[e.jsx("span",{children:a("advanced_filters")||"Advanced Filters"}),e.jsx("span",{className:`toggle-icon ${pe?"expanded":""}`,children:"‚ñº"})]}),pe&&e.jsxs("div",{className:"advanced-filters-panel",children:[e.jsxs("div",{className:"filter-group",children:[e.jsxs("label",{children:[a("sort_order")||"Sort Order",":"]}),e.jsxs("select",{value:U.order,onChange:t=>{re(s=>({...s,order:t.target.value})),f.trim()&&q(f,{...U,order:t.target.value})},children:[e.jsx("option",{value:"top-weekly",children:a("top_weekly")||"Top Weekly"}),e.jsx("option",{value:"top-monthly",children:a("top_monthly")||"Top Monthly"}),e.jsx("option",{value:"top-yearly",children:a("top_yearly")||"Top Yearly"}),e.jsx("option",{value:"newest",children:a("newest")||"Newest"}),e.jsx("option",{value:"rating",children:a("highest_rated")||"Highest Rated"}),e.jsx("option",{value:"views",children:a("most_viewed")||"Most Viewed"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("label",{children:[a("duration")||"Duration",":"]}),e.jsxs("select",{value:U.duration,onChange:t=>{re(s=>({...s,duration:t.target.value}))},children:[e.jsx("option",{value:"",children:a("any_duration")||"Any Duration"}),e.jsx("option",{value:"short",children:a("short_lt_10_min")||"Short (<10 min)"}),e.jsx("option",{value:"medium",children:a("medium_10_30_min")||"Medium (10-30 min)"}),e.jsx("option",{value:"long",children:a("long_gt_30_min")||"Long (>30 min)"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("label",{children:[a("quality")||"Quality",":"]}),e.jsxs("select",{value:U.quality,onChange:t=>{re(s=>({...s,quality:t.target.value}))},children:[e.jsx("option",{value:"",children:a("any_quality")||"Any Quality"}),e.jsx("option",{value:"hd",children:a("hd")||"HD"}),e.jsx("option",{value:"sd",children:a("sd")||"SD"}),e.jsx("option",{value:"4k",children:a("4k")||"4K"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("label",{children:[a("language")||"Language",":"]}),e.jsxs("select",{value:U.language,onChange:t=>{re(s=>({...s,language:t.target.value}))},children:[e.jsx("option",{value:"",children:a("any_language")||"Any Language"}),e.jsx("option",{value:"en",children:a("english")||"English"}),e.jsx("option",{value:"es",children:a("spanish")||"Spanish"}),e.jsx("option",{value:"fr",children:a("french")||"French"}),e.jsx("option",{value:"de",children:a("german")||"German"}),e.jsx("option",{value:"it",children:a("italian")||"Italian"}),e.jsx("option",{value:"pt",children:a("portuguese")||"Portuguese"}),e.jsx("option",{value:"ru",children:a("russian")||"Russian"}),e.jsx("option",{value:"ja",children:a("japanese")||"Japanese"}),e.jsx("option",{value:"ko",children:a("korean")||"Korean"}),e.jsx("option",{value:"zh",children:a("chinese")||"Chinese"})]})]}),e.jsxs("div",{className:"filter-actions",children:[e.jsx("button",{className:"apply-filters-btn",onClick:()=>{console.log("Apply filters clicked"),f.trim()&&q(f,U)},type:"button",children:a("apply_filters")||"Apply Filters"}),e.jsx("button",{className:"clear-filters-btn",onClick:()=>{console.log("Clear filters clicked"),re({order:"top-weekly",duration:"",quality:"",dateRange:"",language:"",tags:[],excludeTags:[]}),f.trim()&&q(f,{})},type:"button",children:a("clear_all")||"Clear All"})]})]})]})),Rt=()=>{console.log("Rendering filters, current filters:",c,"sortBy:",p);const t=c.category||c.duration||c.quality||c.rating||p!=="relevance";return e.jsxs("div",{className:"filters-section",children:[e.jsxs("div",{className:"filters-group",children:[e.jsxs("select",{value:c.category,onChange:s=>{console.log("Category filter changed:",s.target.value),d(l=>({...l,category:s.target.value})),b.info(a("category_filter")+`: ${s.target.value||"All"}`)},className:c.category?"active":"",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"straight",children:"Straight"}),e.jsx("option",{value:"gay",children:"Gay"}),e.jsx("option",{value:"lesbian",children:"Lesbian"})]}),e.jsxs("select",{value:c.duration,onChange:s=>{console.log("Duration filter changed:",s.target.value),d(l=>({...l,duration:s.target.value})),b.info(a("duration_filter")+`: ${s.target.value||"All"}`)},className:c.duration?"active":"",children:[e.jsx("option",{value:"",children:"All Durations"}),e.jsx("option",{value:"short",children:"Short (<10m)"}),e.jsx("option",{value:"medium",children:"Medium (10-30m)"}),e.jsx("option",{value:"long",children:"Long (>30m)"})]}),e.jsxs("select",{value:c.quality,onChange:s=>{console.log("Quality filter changed:",s.target.value),d(l=>({...l,quality:s.target.value})),b.info(a("quality_filter")+`: ${s.target.value||"All"}`)},className:c.quality?"active":"",children:[e.jsx("option",{value:"",children:"All Qualities"}),e.jsx("option",{value:"hd",children:"HD"}),e.jsx("option",{value:"sd",children:"SD"})]}),e.jsxs("select",{value:c.rating,onChange:s=>{console.log("Rating filter changed:",s.target.value),d(l=>({...l,rating:s.target.value})),b.info(a("rating_filter")+`: ${s.target.value||"All"}`)},className:c.rating?"active":"",children:[e.jsx("option",{value:"",children:"All Ratings"}),e.jsx("option",{value:"high",children:"High (4.5+)"}),e.jsx("option",{value:"medium",children:"Medium (3.5-4.5)"}),e.jsx("option",{value:"low",children:"Low (<3.5)"})]}),e.jsxs("select",{value:p,onChange:s=>{console.log("Sort by changed:",s.target.value),j(s.target.value),b.info(a("sorting_by")+`: ${s.target.value}`)},className:p!=="relevance"?"active":"",children:[e.jsx("option",{value:"relevance",children:"Sort by Relevance"}),e.jsx("option",{value:"views",children:"Most Viewed"}),e.jsx("option",{value:"rating",children:"Top Rated"}),e.jsx("option",{value:"duration",children:"Longest"})]})]}),t&&e.jsx("button",{className:"clear-filters",onClick:()=>{console.log("Clear filters clicked"),_t()},"aria-label":a("clear_all_filters"),children:a("clear_filters")}),t&&e.jsxs("div",{className:"active-filters-info",children:[Ce.length," ",a("results_found")]})]})},Ct=()=>e.jsx("div",{className:"search-results",children:Array.from({length:12}).map((t,s)=>e.jsxs("div",{className:"result-card skeleton",children:[e.jsx("div",{className:"skeleton-preview"}),e.jsxs("div",{className:"skeleton-info",children:[e.jsx("div",{className:"skeleton-title"}),e.jsx("div",{className:"skeleton-meta"})]})]},s))}),Pt=()=>e.jsxs("div",{className:"no-results",children:[e.jsx("h3",{children:"No Results Found"}),e.jsx("p",{children:"Try adjusting your search or filters to find what you're looking for."})]});o.useEffect(()=>{const t=s=>{if(s.ctrlKey&&(s.key==="ArrowLeft"||s.key==="ArrowRight")){const l=ie.indexOf(m);s.key==="ArrowLeft"&&l>0&&C(ie[l-1]),s.key==="ArrowRight"&&l<ie.length-1&&C(ie[l+1])}["1","2","3","4"].includes(s.key)&&C(ie[parseInt(s.key,10)-1]),s.key==="/"&&_e.current&&(s.preventDefault(),_e.current.focus())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[m]);const oe=m==="favorites"?y:m==="watchlist"?N:m==="history"?k:u,ee=_?oe.findIndex(t=>t.id===_.id):-1,Tt=()=>{ee>0&&R(oe[ee-1])},At=()=>{ee<oe.length-1&&R(oe[ee+1])};o.useEffect(()=>{(async()=>{try{const l=await(await fetch(`${be}/search/?per_page=20&page=1&thumbsize=medium&order=top-rated&gay=0&lq=1&format=json&key=${Se}`)).json();lt((l.videos||[]).map(n=>({id:n.id,title:n.title,thumbnail:n.default_thumb.src,duration:Re(parseInt(n.duration)),durationSeconds:parseInt(n.duration),views:n.views,rating:n.rating,source:"eporner",embedUrl:`https://www.eporner.com/embed/${n.id}`,directUrl:`https://www.eporner.com/video/${n.id}`,category:n.categories&&n.categories.length>0?n.categories[0]:"",categories:n.categories||[]})))}catch{}})()},[]),L&&u.filter(t=>t.category===L),Array.from(new Set([...k,...y].flatMap(t=>t.category?[t.category]:[])).values());const Ft=o.useRef(ce(t=>{localStorage.setItem("adultFavorites",JSON.stringify(t))},500)).current,Dt=o.useRef(ce(t=>{localStorage.setItem("adultWatchlist",JSON.stringify(t))},500)).current,It=o.useRef(ce(t=>{localStorage.setItem("adultPlaylists",JSON.stringify(t))},500)).current,Et=o.useRef(ce(t=>{localStorage.setItem("adultDownloadQueue",JSON.stringify(t))},500)).current;o.useEffect(()=>{Ft(y)},[y]),o.useEffect(()=>{Dt(N)},[N]),o.useEffect(()=>{It(P)},[P]),o.useEffect(()=>{Et(we)},[we]);const fe=t=>{const s=Array.isArray(t)?t:[];xe(s),localStorage.setItem("adultPlaylists",JSON.stringify(s))},Mt=t=>{const s=Array.isArray(P)?P:[],l={id:Date.now().toString(),name:t,videos:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),description:"",isPublic:!1},n=[...s,l];fe(n),je(l),Oe(""),ne(!1),b.success(a("playlist_created_successfully",{name:t}))},te=(t,s)=>{const n=(Array.isArray(P)?P:[]).map(i=>i.id===s?i.videos.some(O=>O.id===t.id)?(b.info(a("video_already_in_playlist")),i):{...i,videos:[...i.videos,t],updatedAt:new Date().toISOString()}:i);fe(n),b.success(a("video_added_to_playlist"))},K=(t,s)=>{const n=(Array.isArray(P)?P:[]).map(i=>i.id===s?{...i,videos:i.videos.filter(w=>w.id!==t),updatedAt:new Date().toISOString()}:i);fe(n),b.success(a("video_removed_from_playlist"))},$t=t=>{const l=(Array.isArray(P)?P:[]).filter(n=>n.id!==t);fe(l),H&&H.id===t&&je(null),b.success(a("playlist_deleted_successfully"))},Qe=()=>{const t=Array.isArray(P)?P:[];return e.jsxs("div",{className:"playlist-manager",children:[e.jsxs("div",{className:"playlist-header",children:[e.jsx("h4",{children:a("my_playlists")}),e.jsxs("button",{className:"create-playlist-btn",onClick:()=>ne(!0),children:[e.jsx("span",{children:"+"})," ",a("create_playlist")]})]}),t.length===0?e.jsxs("div",{className:"empty-playlists",children:[e.jsx("div",{className:"empty-icon",children:"üìã"}),e.jsx("p",{children:a("no_playlists_yet_create_your_first_playlist")})]}):e.jsx("div",{className:"playlists-grid",children:t.map(s=>e.jsxs("div",{className:`playlist-card ${(H==null?void 0:H.id)===s.id?"active":""}`,onClick:()=>je(s),children:[e.jsxs("div",{className:"playlist-info",children:[e.jsx("h5",{children:s.name}),e.jsxs("p",{children:[s.videos.length," ",a("videos")]}),e.jsx("span",{className:"playlist-date",children:new Date(s.updatedAt).toLocaleDateString()})]}),e.jsx("div",{className:"playlist-actions",children:e.jsx("button",{className:"playlist-action-btn",onClick:l=>{l.stopPropagation(),$t(s.id)},title:a("delete_playlist"),children:"üóëÔ∏è"})})]},s.id))}),H&&e.jsxs("div",{className:"current-playlist",children:[e.jsxs("h5",{children:[a("current_playlist"),": ",H.name]}),e.jsx("div",{className:"playlist-videos",children:H.videos.length===0?e.jsx("p",{children:a("no_videos_in_this_playlist_yet")}):e.jsx("div",{className:"playlist-videos-grid",children:H.videos.map(s=>e.jsxs("div",{className:"playlist-video-item",children:[e.jsx("img",{src:s.thumbnail,alt:s.title}),e.jsxs("div",{className:"video-info",children:[e.jsx("h6",{children:s.title}),e.jsx("span",{children:s.duration})]}),e.jsx("button",{className:"remove-video-btn",onClick:()=>K(s.id,H.id),children:"√ó"})]},s.id))})})]})]})},Ot=()=>rt?e.jsx("div",{className:"playlist-modal-overlay",onClick:()=>ne(!1),children:e.jsxs("div",{className:"playlist-modal",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h4",{children:a("create_new_playlist")}),e.jsx("button",{className:"close-modal-btn",onClick:()=>ne(!1),children:"√ó"})]}),e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"input-group",children:[e.jsxs("label",{children:[a("playlist_name"),":"]}),e.jsx("input",{type:"text",value:me,onChange:t=>Oe(t.target.value),placeholder:a("enter_playlist_name"),maxLength:50})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"cancel-btn",onClick:()=>ne(!1),children:a("cancel")}),e.jsx("button",{className:"create-btn",onClick:()=>{me.trim()?Mt(me.trim()):b.error(a("please_enter_a_playlist_name"))},disabled:!me.trim(),children:a("create_playlist")})]})]})]})}):null,Lt=()=>{const t=new Date().getHours(),s=new Date().getDay();let l=[...Pe];return t>=22||t<=6?l.unshift("night","late night","bedroom"):t>=7&&t<=12?l.unshift("morning","breakfast","wake up"):t>=13&&t<=17?l.unshift("afternoon","lunch","work"):l.unshift("evening","dinner","relax"),s===0||s===6?l.unshift("weekend","party","celebration"):l.unshift("weekday","stress relief","quick"),l.slice(0,10)};o.useEffect(()=>{ct(Lt())},[]);const Ht=t=>{if(!t.trim())return[];const s=[],l=t.toLowerCase();return Pe.forEach(n=>{n.includes(l)&&!s.includes(n)&&s.push(n)}),$.forEach(n=>{n.toLowerCase().includes(l)&&!s.includes(n)&&s.push(n)}),l.includes("anal")?s.push("anal creampie","anal toys","anal training"):l.includes("oral")?s.push("blowjob","deepthroat","facial"):l.includes("lesbian")&&s.push("lesbian toys","lesbian massage","lesbian orgasm"),s.slice(0,8)};o.useEffect(()=>{if(f.trim()){const t=Ht(f);Le(t)}else Le([])},[f,$]);const qt=()=>{if(Z.totalSearches===0)return null;const t=Array.from(Z.popularTerms.entries()).sort((s,l)=>l[1]-s[1]).slice(0,5);return e.jsxs("div",{className:"search-analytics-dashboard",children:[e.jsxs("div",{className:"analytics-header",children:[e.jsx("h4",{children:a("search_analytics")}),e.jsx("span",{className:"analytics-subtitle",children:a("your_search_insights")})]}),e.jsxs("div",{className:"analytics-grid",children:[e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-icon",children:"üîç"}),e.jsxs("div",{className:"analytics-content",children:[e.jsx("div",{className:"analytics-value",children:Z.totalSearches}),e.jsx("div",{className:"analytics-label",children:a("total_searches")})]})]}),e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-icon",children:"üìä"}),e.jsxs("div",{className:"analytics-content",children:[e.jsx("div",{className:"analytics-value",children:Z.averageResults}),e.jsx("div",{className:"analytics-label",children:a("avg_results")})]})]}),e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-icon",children:"‚ö°"}),e.jsxs("div",{className:"analytics-content",children:[e.jsx("div",{className:"analytics-value",children:ge.size}),e.jsx("div",{className:"analytics-label",children:a("cached_results")})]})]})]}),t.length>0&&e.jsxs("div",{className:"top-searches",children:[e.jsx("h5",{children:a("top_searches")}),e.jsx("div",{className:"top-searches-list",children:t.map(([s,l],n)=>e.jsxs("button",{className:"top-search-item",onClick:()=>{v(s),q(s)},children:[e.jsxs("span",{className:"search-rank",children:["#",n+1]}),e.jsx("span",{className:"search-term",children:s}),e.jsxs("span",{className:"search-count",children:[l," ",a("searches")]})]},s))})]})]})},Bt=()=>{const t=[];if(He.length>0){const n=He.slice(0,3);t.push({type:"recent",title:a("recent_searches"),items:n.map(i=>({text:i,icon:"",action:()=>{v(i),q(i)}}))})}if(Z.popularTerms.size>0){const n=Array.from(Z.popularTerms.entries()).sort((i,w)=>w[1]-i[1]).slice(0,3).map(([i])=>i);t.push({type:"popular",title:a("popular_searches"),items:n.map(i=>({text:i,icon:"üî•",action:()=>{v(i),q(i)}}))})}const s=new Date().getHours();let l=[];return s>=22||s<=6?l=["night","bedroom","late night"]:s>=7&&s<=12?l=["morning","breakfast","wake up"]:s>=13&&s<=17?l=["afternoon","lunch","work"]:l=["evening","dinner","relax"],t.push({type:"time",title:a("time_based_suggestions"),items:l.map(n=>({text:n,icon:"‚è∞",action:()=>{v(n),q(n)}}))}),t},Jt=()=>{const t=Bt();return t.length===0?null:e.jsxs("div",{className:"smart-recommendations",children:[e.jsxs("div",{className:"recommendations-header",children:[e.jsx("h4",{children:a("smart_recommendations")}),e.jsx("span",{className:"recommendations-subtitle",children:a("personalized_for_you")})]}),e.jsx("div",{className:"recommendations-grid",children:t.map(s=>e.jsxs("div",{className:"recommendation-section",children:[e.jsx("h5",{className:"section-title",children:s.title}),e.jsx("div",{className:"recommendation-items",children:s.items.map((l,n)=>e.jsxs("button",{className:"recommendation-item",onClick:l.action,children:[e.jsx("span",{className:"item-icon",children:l.icon}),e.jsx("span",{className:"item-text",children:l.text})]},`${s.type}-${n}`))})]},s.type))})]})};o.useEffect(()=>{Array.isArray(P)||(console.warn("Playlists is not an array, resetting to empty array"),xe([]),localStorage.removeItem("adultPlaylists"))},[P]),o.useEffect(()=>{localStorage.setItem("adultPlaylists",JSON.stringify(P))},[P]);const Wt=t=>{it(s=>{const l=s.filter(n=>n.id!==t);return localStorage.setItem("adultDownloadQueue",JSON.stringify(l)),l})};o.useEffect(()=>{const t=i=>Array.isArray(i)?i.filter(w=>w&&typeof w=="object"&&w.id):[],s=t(y),l=t(N),n=t(k);s.length!==y.length&&(F(s),localStorage.setItem("adultFavorites",JSON.stringify(s))),l.length!==N.length&&(B(l),localStorage.setItem("adultWatchlist",JSON.stringify(l))),n.length!==k.length&&(A(n),localStorage.setItem("adultHistory",JSON.stringify(n)))},[]);const Vt=(t,s)=>{xe(l=>l.map(n=>n.id===t?{...n,name:s}:n)),b.success(a("playlist_renamed_successfully"))},Ut=()=>{Be&&Vt(Be,Je),qe(!1)};return e.jsx(os,{sectionName:"Adult Search",isVideoPlaying:!!_,children:e.jsxs("div",{className:"adult-search-container",ref:gt,children:[e.jsx(ds,{searchQuery:f,onSearchChange:jt,loading:T,recentSearches:$,onSuggestionClick:Ue,showSuggestions:he,onFocus:vt,onBlur:xt,onKeyDown:wt,inputRef:_e,placeholder:a("search_adult_videos")}),Ne.totalResults>0&&e.jsx("div",{className:"search-stats",children:e.jsx("span",{className:"stats-text",children:a("found_videos_in_ms",{count:Ne.totalResults,time:Ne.searchTime})})}),!f.trim()&&!T&&e.jsxs("div",{className:"trending-searches",children:[e.jsx("h4",{children:a("trending_searches")}),e.jsx("div",{className:"trending-tags",children:ot.map((t,s)=>e.jsx("button",{className:"trending-tag",onClick:()=>{v(t),q(t)},style:{animationDelay:`${s*.1}s`},children:t},t))})]}),kt(),Rt(),e.jsxs("div",{className:"tabs",children:[e.jsx("button",{type:"button",className:m==="all"?"active":"",onClick:()=>{console.log("Tab clicked: all"),C("all")},children:a("all")||"All"}),e.jsx("button",{type:"button",className:m==="favorites"?"active":"",onClick:()=>{console.log("Tab clicked: favorites"),C("favorites")},children:a("favorites")||"Favorites"}),e.jsx("button",{type:"button",className:m==="watchlist"?"active":"",onClick:()=>{console.log("Tab clicked: watchlist"),C("watchlist")},children:a("watchlist")||"Watchlist"}),e.jsx("button",{type:"button",className:m==="history"?"active":"",onClick:()=>{console.log("Tab clicked: history"),C("history")},children:a("recently_watched")||"Recently Watched"}),e.jsx("button",{type:"button",className:m==="playlists"?"active":"",onClick:()=>{console.log("Tab clicked: playlists"),C("playlists")},children:a("playlists")||"Playlists"}),e.jsx("button",{type:"button",className:m==="downloads"?"active":"",onClick:()=>{console.log("Tab clicked: downloads"),C("downloads")},children:a("download_queue")||"Download Queue"})]}),m==="all"&&Te.length>1&&e.jsxs("div",{className:"category-filter-bar",children:[e.jsxs("div",{className:"category-filter-header",children:[e.jsx("h4",{children:a("filter_by_category")}),e.jsxs("span",{className:"category-count",children:["(",Te.length," ",a("categories"),")"]})]}),e.jsxs("div",{className:"category-buttons",children:[e.jsxs("button",{type:"button",className:`category-btn ${L?"":"active"}`,onClick:()=>ve(""),title:a("show_all_categories"),children:[e.jsx("span",{className:"category-icon",children:"üé¨"}),e.jsx("span",{className:"category-text",children:a("all")})]}),Te.map(t=>e.jsxs("button",{type:"button",className:`category-btn ${L===t?"active":""}`,onClick:()=>ve(t),title:a("filter_by")+`: ${t}`,children:[e.jsx("span",{className:"category-icon",children:t==="amateur"?"üì±":t==="anal"?"üçë":t==="blowjob"?"üíã":t==="creampie"?"üí¶":t==="cumshot"?"üíß":t==="deepthroat"?"üëÖ":t==="facial"?"üé≠":t==="gangbang"?"üë•":t==="hardcore"?"üî•":t==="lesbian"?"üë≠":t==="massage"?"üíÜ":t==="masturbation"?"‚úã":t==="oral"?"üëÑ":t==="pov"?"üìπ":t==="rough"?"‚ö°":t==="threesome"?"üë®‚Äçüë©‚Äçüëß":t==="toys"?"üîå":t==="vintage"?"üìº":t==="young"?"üå∏":"üéØ"}),e.jsx("span",{className:"category-text",children:t}),L===t&&e.jsx("span",{className:"active-indicator",children:"‚úì"})]},t))]}),L&&e.jsxs("div",{className:"category-filter-info",children:[e.jsxs("span",{children:[a("filtering_by")," ",e.jsx("strong",{children:L})]}),e.jsxs("button",{type:"button",className:"clear-category-btn",onClick:()=>ve(""),title:a("clear_category_filter"),children:["‚úï ",a("clear")]})]})]}),m==="all"&&(T?Ct():Ce.length>0?e.jsx(V,{searchResults:Ce,onVideoSelect:W,favorites:y.map(t=>t.id),onToggleFavorite:z,watchlist:N.map(t=>t.id),onToggleWatchlist:Q,playlists:P,onAddToPlaylist:te,onRemoveFromPlaylist:K}):Pt()),m==="favorites"&&e.jsx(V,{searchResults:y.filter(Boolean),onVideoSelect:W,favorites:y.filter(Boolean).map(t=>t.id),onToggleFavorite:z,watchlist:N.filter(Boolean).map(t=>t.id),onToggleWatchlist:Q,playlists:P,onAddToPlaylist:te,onRemoveFromPlaylist:K}),m==="watchlist"&&e.jsx(V,{searchResults:N.filter(Boolean),onVideoSelect:W,favorites:y.filter(Boolean).map(t=>t.id),onToggleFavorite:z,watchlist:N.filter(Boolean).map(t=>t.id),onToggleWatchlist:Q,playlists:P,onAddToPlaylist:te,onRemoveFromPlaylist:K}),m==="history"&&e.jsx(V,{searchResults:k.filter(Boolean),onVideoSelect:W,favorites:y.filter(Boolean).map(t=>t.id),onToggleFavorite:z,watchlist:N.filter(Boolean).map(t=>t.id),onToggleWatchlist:Q,playlists:P,onAddToPlaylist:te,onRemoveFromPlaylist:K}),m==="all"&&ze.length>0&&e.jsxs("div",{className:"recommended-section fade-slide",children:[e.jsx("h3",{children:a("recommended_for_you")}),e.jsx(V,{searchResults:ze,onVideoSelect:W,favorites:y.map(t=>t.id),onToggleFavorite:z,watchlist:N.map(t=>t.id),onToggleWatchlist:Q,playlists:P,onAddToPlaylist:te,onRemoveFromPlaylist:K})]}),m==="trending"&&e.jsx("div",{className:"fade-slide",children:e.jsx(V,{searchResults:nt,onVideoSelect:W,favorites:y.map(t=>t.id),onToggleFavorite:z,watchlist:N.map(t=>t.id),onToggleWatchlist:Q,playlists:P,onAddToPlaylist:te,onRemoveFromPlaylist:K})}),m==="playlists"&&e.jsx("div",{className:"fade-slide",children:Qe()}),m==="downloads"&&e.jsx("div",{className:"fade-slide",children:e.jsxs("div",{className:"download-queue-panel",children:[e.jsx("h4",{children:a("download_queue")}),e.jsx(V,{searchResults:we,onVideoSelect:W,favorites:y.map(t=>t.id),onToggleFavorite:z,watchlist:N.map(t=>t.id),onToggleWatchlist:Q,onRemoveFromDownloadQueue:Wt,downloadQueueMode:!0})]})}),_&&e.jsx(gs,{video:_,sources:E,onClose:()=>R(null),onPrev:Tt,onNext:At,showPrev:ee>0,showNext:ee<oe.length-1,allVideos:u,onVideoSelect:W}),h&&e.jsx("div",{style:{textAlign:"center",color:"#ff3333",margin:"20px"},children:a("loading_more")}),qt(),Jt(),Qe(),Ot(),e.jsx(fs,{isOpen:pt,onClose:()=>qe(!1),onRename:Ut,currentName:Je})]})})};function ks({BASE_URL:a,API_KEY:f,t:v}){return e.jsxs("div",{className:"adult-section",children:[e.jsx("header",{className:"adult-section-header",children:e.jsx("h2",{className:"adult-section-title",children:v?v("adult_section"):"Adult 18+ Section"})}),e.jsx(ys,{BASE_URL:a,API_KEY:f,t:v}),e.jsx(cs,{})]})}export{ks as default};
